# Static Analysis Configuration for Music Player AUTOSAR Project
# Supports ISO 26262 Functional Safety Compliance
# 
# This configuration file defines the static analysis settings for various tools
# used in the development of safety-critical automotive ECU software.

[General]
project_name = MusicPlayer_AUTOSAR_ECU
autosar_version = 4.3.1
compliance_standard = ISO_26262_ASIL_B
coding_standard = AUTOSAR_CPP14

[ClangTidy]
enabled = true
config_file = .clang-tidy
warnings_as_errors = true
# Run on all source files except generated RTE
exclude_patterns = generated/rte/*, build/*, test/framework/*

[ClangFormat]
enabled = true
config_file = .clang-format
check_on_commit = true

[CppCheck]
enabled = true
severity_level = warning
# Enable all checks relevant to embedded systems
enable_checks = warning,performance,portability,information
# Suppress specific rules if needed (currently none)
suppress_rules = 
platform = unix64
std = c++14
include_paths = src/, generated/rte/, test/mocks/

[MISRA_Compliance]
# AUTOSAR C++14 includes MISRA C++ compliance
enabled = true
ruleset = AUTOSAR_CPP14
# Critical rules that must pass
mandatory_rules = A0-1-1,A0-1-2,A0-1-3,A2-10-1,A5-0-3,A7-1-1
# Advisory rules
advisory_rules = A2-13-1,A5-2-1,A15-1-1

[CodeCoverage]
enabled = true
target_line_coverage = 85
target_branch_coverage = 75
# Exclude test framework and mocks from coverage
exclude_paths = test/framework/*, test/mocks/*

[Sanitizers]
# Runtime analysis tools (use in debug builds only)
address_sanitizer = true
undefined_behavior_sanitizer = true
leak_sanitizer = true
# Thread sanitizer disabled (single-threaded ECU application)
thread_sanitizer = false

[CompilerWarnings]
# Comprehensive warning flags enforced via CMake
treat_warnings_as_errors = true
warning_level = maximum
extra_flags = -Wpedantic,-Wextra,-Wconversion,-Wsign-conversion

[Documentation]
# Enforce documentation standards
doxygen_enabled = true
min_api_documentation = 90
require_function_docs = true
require_class_docs = true

[Metrics]
# Code complexity and quality metrics
max_cyclomatic_complexity = 15
max_function_length = 50
max_file_length = 500
max_nesting_depth = 4

[Safety]
# ISO 26262 specific requirements
asil_level = B
safety_manual_required = true
traceability_matrix_required = true
# All safety-critical functions must have unit tests
safety_function_coverage = 100

[Reporting]
output_format = xml,html,json
report_directory = build/static_analysis_reports/
generate_summary = true
fail_on_violations = true
