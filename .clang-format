# AUTOSAR C++14 Coding Style Configuration
# Ensures consistent formatting across the ECU codebase

BasedOnStyle: LLVM
Language: Cpp
Standard: c++14

# Indentation
IndentWidth: 4
UseTab: Never
ContinuationIndentWidth: 4
ConstructorInitializerIndentWidth: 4

# Line Length
ColumnLimit: 100
ReflowComments: true

# Pointer and Reference Alignment (AUTOSAR prefers left)
PointerAlignment: Left
ReferenceAlignment: Left
DerivePointerAlignment: false

# Braces
BreakBeforeBraces: Attach
AllowShortBlocksOnASingleLine: Never
AllowShortFunctionsOnASingleLine: None
AllowShortIfStatementsOnASingleLine: Never
AllowShortLoopsOnASingleLine: false

# Templates
AlwaysBreakTemplateDeclarations: Yes
SpaceAfterTemplateKeyword: true

# Spacing
SpaceBeforeParens: ControlStatements
SpaceBeforeCpp11BracedList: false
SpaceInEmptyParentheses: false
SpacesInAngles: false
SpacesInContainerLiterals: false
SpacesInParentheses: false
SpacesInSquareBrackets: false

# Include Ordering (RTE headers first, then system, then project)
IncludeBlocks: Regroup
SortIncludes: true
IncludeCategories:
  # Priority 1: AUTOSAR RTE generated headers
  - Regex:           '^"Rte_.*\.h"'
    Priority:        1
  # Priority 2: Project headers
  - Regex:           '^".*\.hpp?"'
    Priority:        2
  # Priority 3: System C headers
  - Regex:           '^<.*\.h>'
    Priority:        3
  # Priority 4: System C++ headers
  - Regex:           '^<.*'
    Priority:        4
  # Priority 5: Test framework headers
  - Regex:           '^<g(test|mock)/'
    Priority:        5

# Namespace
CompactNamespaces: false
FixNamespaceComments: true

# Alignment
AlignAfterOpenBracket: Align
AlignConsecutiveAssignments: false
AlignConsecutiveDeclarations: false
AlignEscapedNewlines: Right
AlignOperands: true
AlignTrailingComments: true

# Other
BinPackArguments: true
BinPackParameters: true
BreakBeforeBinaryOperators: None
BreakBeforeTernaryOperators: true
BreakConstructorInitializers: BeforeColon
BreakInheritanceList: BeforeColon
MaxEmptyLinesToKeep: 1
KeepEmptyLinesAtTheStartOfBlocks: false
